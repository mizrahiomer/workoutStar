<!DOCTYPE html>
<html
  class="st-layout ls-top-navbar ls-bottom-footer show-sidebar sidebar-l-sum-12"
  lang="en"
>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
    <script src="https://apis.google.com/js/client:platform.js?onload=start" async defer></script>
    <script src="/js/libs/jquery-3.3.1.min.js"></script>
    <script src="/js/libs/mustache.js"></script>
    <script src="/js/main.js"></script>
    <script>
      function start() {
        gapi.load("auth2", function () {
          auth2 = gapi.auth2.init({
            client_id:
              "27295779158-sdqaicgo9l8qmlo8mr0f42um84ve8gkd.apps.googleusercontent.com"
          });
        });
      }
    </script>
    <title>Workout Star</title>
    <link href="css/vendor/all.css" rel="stylesheet" />
    <link href="css/main.css" rel="stylesheet" /> <!--This is the relevant css-->
    <link href="css/app/app.css" rel="stylesheet" />
    <style>
      li{
        list-style-type: none;
      }
    </style>
  </head>
  <body>
    <!-- Wrapper required for sidebar transitions -->
    <div class="st-container">
      <!-- Fixed navbar -->
      <div
        class="navbar navbar-main navbar-default navbar-fixed-top"
        role="navigation"
      >
        <div class="container-fluid">
          <div class="navbar-header">
            <a
              href="#sidebar-menu"
              data-toggle="sidebar-menu"
              class="toggle pull-left visible-xs"
              ><i class="fa fa-bars"></i
            ></a>
            <button
              type="button"
              class="navbar-toggle collapsed"
              data-toggle="collapse"
              data-target="#main-nav"
            >
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a
              href="#sidebar-chat"
              data-toggle="sidebar-menu"
              class="toggle pull-right visible-xs"
              ><i class="fa fa-comments"></i
            ></a>
            <a class="navbar-brand" href="index.html">WorkoutStar</a>
          </div>

          <!-- Collect the nav links, forms, and other content for toggling -->
          <div class="collapse navbar-collapse" id="main-nav">
            <ul class="nav navbar-nav">
              <li id='upload-video'><a href="./upload_video.html">Upload</a></li>
              <li>  
                <a id="signinButton" style="cursor:pointer;">
                Sign in with Google <i class="fa fa-google"></i>
                </a>
              </li>
            </ul>
            <ul class="nav navbar-nav navbar-right ">
              <div class="wizard-1" id="wizard-demo-1" >
                <div data-scrollable-h>
                  <ul class="wiz-progress" >
                    <li class="active">Choose workout</li>
                    <li>Invite friends</li>
                    <li>Enjoy the workout</li>
                  </ul>
                </div>
              <!-- user -->
              <!-- <li class="dropdown user">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                  <img
                    src="images/people/110/guy-6.jpg"
                    alt=""
                    class="img-circle"
                  />
                  Bill<span class="caret"></span>
                </a>
                <ul class="dropdown-menu" role="menu">
                  <li>
                    <a href="#"><i class="fa fa-user"></i>Profile</a>
                  </li>
                  <li>
                    <a href="#"><i class="fa fa-wrench"></i>Settings</a>
                  </li>
                  <li>
                    <a href="#"><i class="fa fa-sign-out"></i>Logout</a>
                  </li>
                </ul>
              </li> -->
              <!-- // END user -->
            </ul>
            <!-- <form class="navbar-form navbar-right">
              <div class="search-2">
                <div class="input-group">
                  <input
                    type="text"
                    class="form-control form-control-w-150"
                    placeholder="Search .."
                  />
                  <span class="input-group-btn">
                    <button class="btn btn-inverse" type="button">
                      <i class="fa fa-search"></i>
                    </button>
                  </span>
                </div>
              </div>
            </form> -->
          </div>
          
          <!-- /.navbar-collapse -->
        </div>
      
      </div>
      <!-- Sidebar component with st-effect-1 (set on the toggle button within the navbar) -->
     
   

      <div
        class="sidebar left sidebar-size-2  sidebar-skin-white sidebar-visible-desktop"
        id="sidebar-menu"
        data-type="collapse"
      >
        <div data-scrollable>
          <h4 class="category">Workout Type</h4>
          <ul id='type' class="sidebar-block list-group list-group-menu list-group-minimal" >
          </ul>

          <h4 class="category">Duration</h4>
          <ul id='duration'class="sidebar-block list-group list-group-menu list-group-minimal">
          </ul>
          <h4 class="category">Equipment</h4>
          <ul id='equipment' class="sidebar-block list-group list-group-menu list-group-minimal">
          </ul>
        </div>
      </div>
     

      <!-- sidebar effects OUTSIDE of st-pusher: -->
      <!-- st-effect-1, st-effect-2, st-effect-4, st-effect-5, st-effect-9, st-effect-10, st-effect-11, st-effect-12, st-effect-13 -->

      <!-- content push wrapper -->
      <div class="st-pusher">
        <!-- sidebar effects INSIDE of st-pusher: -->
        <!-- st-effect-3, st-effect-6, st-effect-7, st-effect-8, st-effect-14 -->

        <!-- this is the wrapper for the content -->
        <div class="st-content">
          <!-- extra div for emulating position:fixed of the menu -->
          <div class="st-content-inner" id="content">
            <div class="container-fluid">
              <h2>Discover</h2>
              <ul
                id='videos-container'
                class="row gridalicious"
                data-toggle="gridalicious"
                data-width="250"
              >

              <div style="clear: both;"></div>
          
        <!-- /st-content -->
      </div>
      <!-- /st-pusher -->

      <!-- Footer -->
      <footer class="footer">
        <strong>ThemeKit</strong> v4.0.0 &copy; Copyright 2015
      </footer>
      <!-- // Footer -->
    </div>



    <!-- Inline Script for colors and config objects; used by various external scripts; -->
    <script>
      var colors = {
        'danger-color': '#e74c3c',
        'success-color': '#81b53e',
        'warning-color': '#f0ad4e',
        'inverse-color': '#2c3e50',
        'info-color': '#2d7cb5',
        'default-color': '#6e7882',
        'default-light-color': '#cfd9db',
        'purple-color': '#9D8AC7',
        'mustard-color': '#d4d171',
        'lightred-color': '#e15258',
        'body-bg': '#f6f6f6'
      };
      var config = {
        theme: 'music',
        skins: {
          default: {
            'primary-color': '#3498db'
          }
        }
      };
    </script>
    <script
    src="https://code.jquery.com/jquery-3.4.1.min.js"
    integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
    crossorigin="anonymous"></script>
    <script>
      $( document ).ready(function() { 
        $("#upload-video").hide() 
        console.log('localStorage' + localStorage.getItem('userId'))
        if(localStorage.getItem('userId') == null){
          $("#signinButton").click(function () {
            auth2.grantOfflineAccess().then(signInCallback)
        })
        $("#signinButton").html("Sign in with Google <i class='fa fa-google'></i>");
        $("#upload-video").hide()
      }else{
        $("#signinButton").click(function () {
          auth2.signOut().then(()=>{
            localStorage.removeItem('userId')
          })
        }) 
        $("#signinButton").html("Sign Out");
        $("#upload-video").show();
      }
      });
      $("#signinButton").click(function () {
        if(localStorage.getItem('userId') == null){
          auth2.grantOfflineAccess().then(signInCallback)
        }else{
        auth2.signOut().then(()=>{
          $("#signinButton").html("Sign in with Google <i class='fa fa-google'></i>");
          $("#upload-video").hide();
          localStorage.removeItem('userId');
        })
        }
        })
  
    function signInCallback(authResult) {
      if (authResult["code"]) {
        // Hide the sign-in button now that the user is authorized, for example:
        $("#signinButton").html("Sign Out");
        $("#upload-video").show()

        const userName = auth2.currentUser
          .get()
          .getBasicProfile()
          .getName();

        const userId = auth2.currentUser.get().getId();
        const userEmail = auth2.currentUser
          .get()
          .getBasicProfile()
          .getEmail()

        const userObj = {
          userId,
          userName,
          userEmail
        }

        localStorage.setItem('userId',userId)
        $.post('/user', userObj, function (response) {
          console.log(JSON.parse(response))
        }, 'application/json')
      }
    }
  </script>

    <!-- Vendor Scripts Bundle
    Includes all of the 3rd party JavaScript libraries above.
    The bundle was generated using modern frontend development tools that are provided with the package
    To learn more about the development process, please refer to the documentation.
    Do not use it simultaneously with the separate bundles above. -->
    <script src="js/vendor/all.js"></script>

    <!-- Vendor Scripts Standalone Libraries -->
    <!-- <script src="js/vendor/core/all.js"></script> -->
    <!-- <script src="js/vendor/core/jquery.js"></script> -->
    <!-- <script src="js/vendor/core/bootstrap.js"></script> -->
    <!-- <script src="js/vendor/core/breakpoints.js"></script> -->
    <!-- <script src="js/vendor/core/jquery.nicescroll.js"></script> -->
    <!-- <script src="js/vendor/core/isotope.pkgd.js"></script> -->
    <!-- <script src="js/vendor/core/packery-mode.pkgd.js"></script> -->
    <!-- <script src="js/vendor/core/jquery.grid-a-licious.js"></script> -->
    <!-- <script src="js/vendor/core/jquery.cookie.js"></script> -->
    <!-- <script src="js/vendor/core/jquery-ui.custom.js"></script> -->
    <!-- <script src="js/vendor/core/jquery.hotkeys.js"></script> -->
    <!-- <script src="js/vendor/core/handlebars.js"></script> -->
    <!-- <script src="js/vendor/core/jquery.hotkeys.js"></script> -->
    <!-- <script src="js/vendor/core/load_image.js"></script> -->
    <!-- <script src="js/vendor/core/jquery.debouncedresize.js"></script> -->
    <!-- <script src="js/vendor/tables/all.js"></script> -->
    <!-- <script src="js/vendor/forms/all.js"></script> -->
    <!-- <script src="js/vendor/media/all.js"></script> -->
    <!-- <script src="js/vendor/player/all.js"></script> -->
    <!-- <script src="js/vendor/charts/all.js"></script> -->
    <!-- <script src="js/vendor/charts/flot/all.js"></script> -->
    <!-- <script src="js/vendor/charts/easy-pie/jquery.easypiechart.js"></script> -->
    <!-- <script src="js/vendor/charts/morris/all.js"></script> -->
    <!-- <script src="js/vendor/charts/sparkline/all.js"></script> -->
    <!-- <script src="js/vendor/maps/vector/all.js"></script> -->
    <!-- <script src="js/vendor/tree/jquery.fancytree-all.js"></script> -->
    <!-- <script src="js/vendor/nestable/jquery.nestable.js"></script> -->
    <!-- <script src="js/vendor/angular/all.js"></script> -->

    <!-- App Scripts Bundle
    Includes Custom Application JavaScript used for the current theme/module;
    Do not use it simultaneously with the standalone modules below. -->
    <script src="js/app/app.js"></script>

    <!-- App Scripts Standalone Modules
    As a convenience, we provide the entire UI framework broke down in separate modules
    Some of the standalone modules may have not been used with the current theme/module
    but ALL the modules are 100% compatible -->

    <!-- <script src="js/app/essentials.js"></script> -->
    <!-- <script src="js/app/layout.js"></script> -->
    <!-- <script src="js/app/sidebar.js"></script> -->
    <!-- <script src="js/app/media.js"></script> -->
    <!-- <script src="js/app/player.js"></script> -->
    <!-- <script src="js/app/timeline.js"></script> -->
    <!-- <script src="js/app/chat.js"></script> -->
    <!-- <script src="js/app/maps.js"></script> -->
    <!-- <script src="js/app/charts/all.js"></script> -->
    <!-- <script src="js/app/charts/flot.js"></script> -->
    <!-- <script src="js/app/charts/easy-pie.js"></script> -->
    <!-- <script src="js/app/charts/morris.js"></script> -->
    <!-- <script src="js/app/charts/sparkline.js"></script> -->
    <script id="video-panel-template" type="text/template">
      <li class="panel panel-default">
        <div class="cover overlay hover cover-image-full">
          <img
            src="{{img}}"
            alt="music"
          />
          <div
            class="overlay overlay-full overlay-hover overlay-bg-black"
          >
            <div class="v-center">
              <a href="" class="btn btn-lg btn-circle btn-white">
                <i class="fa fa-play"></i>
              </a>
            </div>
          </div>
        </div>
        <div class="panel-body">
          <h4 class="card-title"><a href="">{{title}}</a></h4>
          <span class="text-grey-500">{{type}}</span>
        </div>
      </li>                    
    </script>
    <script id="list-types" type="text/template">
      <li class="list-group-item type-element" style='cursor: pointer;' id={{type}}>
        <a><span class="badge pull-right"></span> {{type}}</a>
      </li>
    </script>
    <script id="list-equipment" type="text/template">
      <li class="list-group-item equipment-element" style='cursor: pointer;' id={{id}}>
        <a><span class="badge pull-right"></span> {{label}}</a>
      </li>
    </script>
    <script id="list-duration" type="text/template">
      <li class="list-group-item duration-element" style='cursor: pointer;' id={{id}}>
        <a><span class="badge pull-right"> &lt; {{text}} </span> {{label}}</a>
      </li>
    </script>
  </body>
</html>
